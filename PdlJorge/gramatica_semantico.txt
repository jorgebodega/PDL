P' â†’ 
	{{ 
	ptrTS_actual = "TS_General"
	DicTS[ptrTS_actual] = [ [], 0, "null"] // (TS,Desp,TS_padre)
	}} 
	P 
	{{ 
	TS_actual = "null"
	}}
-----------------------------------------------------------------
P â†’ B Z P ( No hace nada)
P â†’ F Z P ( No hace nada)
P â†’ Z P ( No hace nada)
P â†’ eof ( No hace nada)
-----------------------------------------------------------------
B â†’ var T id 
	{{
	if buscarId(id.ent) â‰  null
		Then Error (â€œIdentificador ya creadoâ€)
	else
		Then 
			insertarTS(id.ent, T.tipo, Desp_actual, ptrTS_actual)
		 	Desp_actual += T.tamano
		 	B.tipo := tipo_ok
	}} 
B â†’ if (E) 
	{{
	if E.tipo â‰  logico
		Then Error (â€œcondiciÃ³n "if" no logicaâ€)
	}}
	S
B â†’ switch (E) 
	{{
	if E.tipo â‰  entero
		Then Error ("condiciÃ³n \"switch\" no entera")
	}}
	Z {Z W}
	{{
	B.tipo := tipo_ok
	}}
B â†’ S 
	{{
	B.tipo := S.tipo
	}}
-----------------------------------------------------------------
T â†’ int 	{{ T.tipo = entero , T.tamano = 2 }}
T â†’ bool 	{{ T.tipo = logico , T.tamano = 1 }}
T â†’ chars 	{{ T.tipo = cadena  , T.tamano = 2 }}
-----------------------------------------------------------------
S â†’ id S'
	{{
	if buscarTipoId(id.ent) â‰  null
		Then
			if  buscarTipoFuncion(id.ent) â‰  null // CASO: id(L)
				Then 
					if buscarTipoFuncion(id.ent) == S'.tipo 
						Then S.tipo := S'.tipo
					else
						Then Error (â€œParametros mal insertadosâ€)
			else //CASO id = E
				Then 
				if buscarTipoId(id.ent) == S'.tipo
					Then S.tipo := tipo_ok
				else
					Then Error (â€œasignacion mal formadaâ€)
	else
		Then Error (â€œIdentificador no declaradoâ€)
	}}
S â†’ return X 
	{{
	S.tipo := X.tipo
	}}
S â†’ write (E) 
	{{
	S.tipo := E.tipo
	}}
S â†’ prompt (id)
	{{
	if buscarTipoId(id.ent) â‰  "entero" and buscarTipoId(id.ent) â‰  "cadena"
		Then Error (â€œuso incorrecto de "prompt" â€)
	else
		Then S.tipo:= buscarTipoId(id.ent)
	}}
-----------------------------------------------------------------
S'â†’ (L)
	{{
	S'.tipo:= L.tipo
	}}
S'â†’ = E
	{{
	S'.tipo := E.tipo
	}}
-----------------------------------------------------------------
X â†’ E
	{{
	X.tipo := E.tipo
	}} 
X â†’ ğº
	{{
	X.tipo := tipo_vacio
	}}
-----------------------------------------------------------------
L â†’ E Q 
	{{
	if E.tipo â‰  tipo_error and Q.tipo â‰  tipo_error
		Then L.tipo:= f(E.tipo,Q.tipo)
	else
		Then Error (â€œcontenido parentesis del identificador llamado mal formadoâ€)
	}}
L â†’ ğº
	{{
	L.tipo := tipo_vacio
	}}
-----------------------------------------------------------------
Q â†’ , E Q
	{{
	if E.tipo â‰  tipo_error and Q.tipo â‰  tipo_error
		Then Q.tipo:= f(E.tipo,Q.tipo)
	else
		Then Error (â€œcontenido parentesis del identificador llamado mal formadoâ€)
	}}
Q â†’ ğº
	{{
	Q.tipo := tipo_vacio
	}}
-----------------------------------------------------------------
E â†’ R E' 
	{{
	if E'.tipo â‰  tipo_vacio and R.tipo â‰  E'.tipo
		Then Error (â€œComparacion de elementos con tipos distintosâ€)
	else 
		Then
			if E'.tipo â‰  tipo_vacio
				Then E.tipo := "logico"
			else
				Then E.tipo := R.tipo 
	}}
-----------------------------------------------------------------
E'â†’ && R E' 
	{{
	if E'.tipo â‰  tipo_vacio and E'.tipo â‰  R.tipo â‰  "logico"
		Then Error (â€œComparacion de elementos de tipo no logicoâ€)
	else
		Then E'.tipo := R.tipo
	}}
E'â†’ ğº
	{{
	E'.tipo := tipo_vacio
	}}
-----------------------------------------------------------------
R â†’ U R'
	{{
	if R'.tipo â‰  tipo_vacio and U.tipo â‰  R'.tipo
		Then Error (â€œComparacion de elementos con tipos distintosâ€)
	else 
		Then
			if R'.tipo â‰  tipo_vacio
				Then R.tipo := "logico"
			else
				Then R.tipo := U.tipo 

	}}
-----------------------------------------------------------------
R'â†’ > U R'
	{{
	if R'.tipo â‰  tipo_vacio and R'.tipo â‰  U.tipo â‰  "entero"
		Then Error (â€œComparacion de elementos de tipo no enteroâ€)
	else
		Then R'.tipo := U.tipo
	}}
R'â†’ ğº
	{{
	R'.tipo := tipo_vacio
	}}
-----------------------------------------------------------------
U â†’ V U'
	{{
	if U'.tipo â‰  tipo_vacio and V.tipo â‰  U'.tipo
		Then Error (â€œSuma de elementos de tipo no enteroâ€)
	else
		Then U.tipo := V.tipo 
	}}
-----------------------------------------------------------------
U'â†’ * V U' 
	{{
	if V.tipo â‰  "entero"
		Then Error (â€œSuma de elementos de tipo no enteroâ€)
	else
		Then U'.tipo := V.tipo 
	}}
U'â†’ ğº 
	{{ 
	U'.tipo := tipo_vacio
	}}
-----------------------------------------------------------------
V â†’ id V' 
	{{
	if buscarTipoId(id.ent) â‰  null
		Then
			if  buscarTipoFuncion(id.ent) â‰  null // CASO: id(L)
				Then 
					if buscarTipoFuncion(id.ent) == V'.tipo 
						Then V.tipo := V'.tipo
					else
						Then Error (â€œParametros mal insertadosâ€)
			else //CASO id
				Then V.tipo := buscarTipoId(id.ent)
	else
		Then Error (â€œIdentificador no declaradoâ€)
	}}
V â†’ (E) 	{{ V.tipo := E.tipo }}
V â†’ entero 	{{ V.tipo := entero }}
V â†’ cadena 	{{ V.tipo := cadena }}
V â†’ True 	{{ V.tipo := logico }}
V â†’ False 	{{ V.tipo := logico }}
-----------------------------------------------------------------
V'â†’ (L) 
	{{
	V'.tipo := L.tipo
	}}
V'â†’ ++ 
	{{
	if buscarTipoId(TSaux[N_IDS-1], ptrTS_actual) != "entero":
        Error_Sem("uso incorrecto de \"++\"")
	}}
V'â†’ ğº
	{{
	V'.tipo := tipo_vacio
	}}
-----------------------------------------------------------------
F â†’ function H id 
	{{
	if buscarTS(id.ent) â‰  null
		Then Error (â€œFunciÃ³n ya declaradaâ€)
	else
		insertarTS(id.ent, "function", Desp_actual, ptrTS_actual)
		DicTS[ptrTS_actual] := (TS_actual,Desp_actual) // guarda la TS actual con el desplazamiento
		crearTS TS_nueva
		TS_actual := TS_nueva
		Desp_actual := 0
		ptrTS_anterior := ptrTS_actual
		ptrTS_actual := id.ent
	}}
	(A) Z {
	{{
	insertarFunTS(ptrTS_anterio, id.ent, A.numParam, A.tipo, id.ent)   
	}}
	Z C }
	{{
	if C.tipo â‰  H.tipo or C.tipo â‰  tipo_ok
		Then Error (â€œFuncion mal returnâ€)
	else
		Then
		DicTS[ptrTS_actual] := (TS_actual,Desp_actual) // guarda la TS actual con el desplazamiento
		DicTS[ptrTS_anterior] := (TS_anterior,Desp_anterior) // recuperamos la tabla de simbolos anterior
		TS_actual 	:= TS_anterior
		Desp_actual := Desp_anterior
		ptrTS_actual  := ptrTS_anterio
		ptrTS_anterio := null
	}}
-----------------------------------------------------------------
H â†’ T 		{{ H.tipo = T.tipo , H.tamano = T.tamano }}
H â†’ ğº       {{ H.tipo = tipo_vacio  , H.tamano = 0 }}
-----------------------------------------------------------------
A â†’ T id 
	{{
	if buscarId(id.ent) â‰  null
		Then Error (â€œIdentificador ya creadoâ€)
	else
		Then 
			insertarTS(id.ent, T.tipo, Desp_actual, ptrTS_actual)
		 	Desp_actual += T.tamano 
	}} 
	K 
	{{ 
	A.tipo := f(T.tipo, K.tipo) 
	A.numParam := K.numParam + 1
	}}
A â†’ ğº 
	{{ 
	A.tipo = tipo_vacio
	A.numParam := 0
	}}
-----------------------------------------------------------------
K â†’ , T id 
	{{
	if buscarId(id.ent) â‰  null
		Then Error (â€œIdentificador ya creadoâ€)
	else
		Then 
			insertarTS(id.ent, T.tipo, Desp_actual, ptrTS_actual)
		 	Desp_actual += T.tamano
	}} 
	K 
	{{ 
	K.tipo := f(T.tipo, K.tipo) 
	K.numParam := K.numParam + 1
	}}
K â†’ ğº 
	{{ 
	K.tipo = tipo_vacio
	K.numParam := 0
	}}
-----------------------------------------------------------------
Z â†’ cr Z'  ( No hace nada)
Z' â†’ cr Z' ( No hace nada)
Z' â†’ ğº ( No hace nada)
-----------------------------------------------------------------
C â†’ B Z C
	{{
	if C.tipo â‰  tipo_error and B.tipo â‰  tipo_error
		Then  C.tipo := tipo_ok
	else
		Then Error (â€œcontenido de corchetes mal formadoâ€)
	}}
C â†’ ğº  
	{{
	C.tipo := tipo_vacio
	}}  
-----------------------------------------------------------------
W â†’ case Y : S M Z N
	{{
	W.tipo := entero, W.tamano := 2
	}}
-----------------------------------------------------------------
Y â†’ entero
	{{
	Y.tipo := entero, Y.tamano := 2
	}}
-----------------------------------------------------------------
M â†’ ; break (No hace nada)
M â†’ cr break (No hace nada)
M â†’ ğº
	{{
	M.tipo := tipo_vacio
	}}
-----------------------------------------------------------------
N â†’ case Y : S M Z N 
	{{
	N.tipo := S.tipo
	}}
N â†’ ğº
	{{
	N.tipo := tipo_vacio
	}}